>

## 

### 软件设计三个阶段

- pre-architecture阶段 ：ADMEMS矩阵方法，约束性需求的四种类型
- conceptual-architecture阶段 ：重大需求概念重塑
- refined-architecture阶段 ：分层细化、分区的引入、机制的提取

需求进-架构出

需求分析--概念架构--细化架构--非功能方法论

4个实际问题：

- 如何划分系统模块
- 如何设计大系统架构
- 需求糟糕，如何不影响架构设计
- 非功能需求重要，如何设计

2个职业问题：
- 新手如何设计架构
- 老手如何总结项目

ADMEMS Architectural Design Method has been Extended to Method System 架构设计方法已经扩展到方法体系

架构设计：

- 阶段1：把我需求特点，确定架构驱动力
- 阶段2：根据重大需求，确定概念架构
- 阶段3：细化架构设计，关注不同视图

PA阶段-预架构阶段：需求
CA阶段-概念架构阶段：重大需求决定架构
RA阶段-细化架构：包、包-接口、灰盒包、序列图、决策表

业务级需求：法律法规、技术因素、竞争对手
用户级需求：用户特点，水平
开发级需求：开发水平，产品规划

关键功能设计-->综合设计<--->非功能需求
        ^-----------------------------------------------------|

## 3

Pre-architecture步骤

- 1 需求结构化
- 2 分析约束影响
- 3 确定关键质量
- 4 确定关键功能

## 4 需求结构化与分析约束的影响

需求来源：

- 1 来自客户或者出资方的需求
- 2 来自用户的约束性需求
- 3 来自开发者和升级维护人员的需求
- 4 当前技术环境的需求

软件需求 = 功能需求+质量属性+约束

P64

```
if ($("#checkbox-id")get(0).checked) {
    // do something
}
方法二：
if($('#checkbox-id').is(':checked')) {
    // do something
}
方法三：
if ($('#checkbox-id').attr('checked')) {
    // do something
}
```

如何确定关键质量？

- 分类合适+必要扩充
-  考虑多方涉重
-  检查性思维
-  识别矛盾+划定优先级
-  严格程度符合领域与规模特点

扩充属性：可管理性、开放性、性能与效率

P67

P73

#### 质量的确定

运行期质量：

- 可伸缩性：
- 性能：
- 易用性：
- 安全性
- 持续可用性
- 互操作性

开发期质量：

- 可扩展性

#### 功能的确定

- 核心功能
- 必做功能
- 高风险功能
- 独特功能


重大需求塑造概念架构

P90

### 概念架构三个步骤

1 基于关键功能进行关键设计
2 高层分割，基于黑盒进行高层分割
3 考虑非功能性需求

# 8 初步设计

## 鲁棒图简介

1 边界：模拟外部交互
2 控制对象：事件流空间
3 实体对象：来自领域概念

#### 鲁棒图

作用：

- 初步设计
- 检查用例约束是否完善

#### 鲁棒性

指在意外情况下，系统的具有的正确的执行能力。（可以理解为容错能力）

## 基于鲁棒图的初步设计

#### 语法

- 遵守建模规则
- 简化建模语言

#### 思维

- 遵循3中元素发现思路
- 增量建模
- 实体对象不等于持久化对象

#### 技巧

- 只对关键功能（用例）画鲁棒图
- 每个鲁棒图有2-5个控制对象

#### 注意

- 勿关注细节
- 勿关注UI
- 鲁棒图不等于用例规约

P98

## 划分子系统的3中必用策略

### 分层的细化

### 分区的引入

先分层设计（广度设计）--> 深度优先（迭代开发每个功能）

### 机制的提取

基于接口的协作是机制；基于具体类的协作算不上机制

### 划分子系统的4个原则

1 职责不同的单元 划归 不同的子系统
2 通用性不同的单元 划归 不同的子系统
3 需要不同开发技能的单元 划归 不同子系统
4 兼顾工作量的相对均衡，进一步切分太大的子系统

## 接口设计的实施与谬误

对问题进行分解，分别解决小问题。分是手段，合适目的。不能合在一起支持更高层次功能的模块，又有何用？

## 逻辑架构设计的整体思维套路

### 整体思路：质疑驱动的逻辑架构设计

两个角度质疑：

- 功能方面，特殊的功能支持吗？
- 质量方面，耦合性、重用性、性能等怎么样？

### 过程串联：给初学者

## 更多经验总结

逻辑架构设计的10条经验

- 划分子系统：分层的细化
- 划分子系统：分区的引入
- 划分子系统：机制的提取
- 接口的定义：协作决定接口
- 选用序列图：杜绝协作图
- 包-接口图：从结构到行为的桥
- 灰盒包图：描述关键子系统
- 循序渐进的螺旋思维
- 设计模式：包内结构
- 设计模式：包间协作

设计模式应用于架构设计：
1 明确子系统内的结构 
2 明确包间的协作关系

# 物理结构、运行架构、开发架构

## 物理架构设计的工作内容

1 硬件的选择与物理拓扑
2 软件到硬件的映射关系
3 方案的优化

## 物理架构的设计思维

攻：高性能，持续可用性，可伸缩性
守：经济性、技术可行性、易维护性

## 实现控制流的3中常见手段

进程、线程、中断服务程序

## 为什么开发架构是必须的

P165
